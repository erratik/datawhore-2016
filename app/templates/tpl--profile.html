<!-- template: settings-network-profiles -->
<div class="ui container">
    <div class="ui header dividing">
        <profile-avatar namespace="profileInfo.name" profile="profileInfo"
                        styles="ui left avatar floated left image"></profile-avatar>
        <div class="content">
            {{profileInfo.name}} Profile
            <div class="sub header">
                {{profileInfo.last_modified | amDateFormat:'dddd, MMMM Do YYYY, h:mm:ss a'}}
            </div>
        </div>
    </div>
    <div class="ui stackable two column vertically divided grid">
        <div class="ui header">
            <div class="content"><i class="icon file"></i>Profile Properties</div>
            <profile-fetch namespace="{{profileInfo.name}}" done="cleanConfig('profile')" style="float: right" text="Clean Profile"></profile-fetch>
        </div>
        <div class="row">
            <div class="column wide six">
                <div class="ui segment">

                    <div class="header ui"><i class="icon file outline"></i>Profile Properties</div>
                    <div class="ui list">
                        <div class="item" ng-repeat="(label, attribute) in formData.profileProperties">
                            <div class="header">{{attribute.label}}</div>
                            {{attribute.value}} ({{label}})
                        </div>
                    </div>

                    <table class="ui compact celled definition table" id="post-properties">
                        <tbody>
                        <tr ng-repeat="(label, attribute) in formData.profileProperties">
                            <td colspan="3">
                                <profile-row data="attribute" label="{{attribute.label}}"></profile-row>
                            </td>

                        </tr>
                        </tbody>
                        <tfoot class="full-width">
                        <td colspan="4">
                            <div class="ui small  button" ng-click="updateProperties('profile')">
                                Approve Properties
                            </div>
                        </td>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div class="column wide ten">
                <div class="ui segment">

                    <div class="header ui"><i class="icon settings outline"></i>Profile Configuration</div>
                    <table class="ui compact celled definition table">
                        <tbody>
                        <tr ng-repeat="(label, attribute) in formData.profileConfig"
                            ng-if="countProperties(attribute.content)">
                            <td colspan="3">
                                <profile-row data="formData.profileConfig[label].content" grouped="attribute.grouped" checkboxes="true" values="true" label="{{label}}"></profile-row>
                            </td>
                        </tr>
                        </tbody>
                        <tfoot class="full-width">
                        <td colspan="4">
                            <div class="ui small  button" ng-click="updateConfig('profile')">
                                Approve
                            </div>
                        </td>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
        <div class="ui header">
            <div class="content"><i class="icon file"></i>Post Design</div>
            <profile-fetch namespace="{{profileInfo.name}}" done="cleanConfig('post')" style="float: right"
                           text="Clean Post"></profile-fetch>
        </div>
        <div class="row">
            <div class="column wide six">
                <div class="ui segment">
                    <div class="header ui"><i class="icon file outline"></i>Post Properties</div>
                    <div class="ui list">

                        <div class="item" ng-repeat="(label, attribute) in formData.postProperties">
                            <!--{{attribute}}-->
                            <!--<div class="header">{{attribute.friendlyName}}</div>-->
                            <!--{{attribute.path}}-->

                            <div ng-hide="show"><button class="ui icon button blue mini inverted" ng-click="show=!show"><i class="write icon"></i></button><span> {{attribute.friendlyName}}</span></div>
                            <div class="ui action input" ng-hide="!show">
                                <input type="text" ng-model="attribute.friendlyName">
                                <button class="ui icon button green" ng-hide="!show" ng-click="show=!show">
                                    <i class="checkmark icon"></i>
                                </button>
                                <span>({{label}})</span>
                            </div>

                        </div>
                        <div class="ui small  button" ng-click="updateProperties('post')">
                            Approve
                        </div>
                    </div>

                </div>
            </div>
            <div class="column wide ten">
                <div class="ui segment">
                    <div class="header ui"><i class="icon settings outline"></i>Post Configuration</div>

                    <table class="ui compact celled definition table">
                        <tbody>
                        <tr ng-repeat="(label, attribute) in formData.postConfig"
                            ng-if="countProperties(attribute.content)">
                            <td colspan="3">
                                <profile-row data="formData.postConfig[label].content" grouped="attribute.grouped" checkboxes="true" values="true" label="{{label}}" model="formData.postConfig"></profile-row>
                            </td>

                        </tr>
                        </tbody>
                        <tfoot class="full-width">
                        <td colspan="4">
                            <div class="ui small  button" ng-click="updateConfig('post')">
                                Approve
                            </div>
                        </td>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>


        <!--<div ng-switch on="profileInfo.name">-->
            <!--<div ng-switch-when="instagram">-->
                <!--<div>-->

                    <!--&lt;!&ndash; <img src="{{post.images.thumbnail.url}}"> &ndash;&gt;-->
                <!--</div>-->
                <!--&lt;!&ndash; this is {{postConfig}} &ndash;&gt;-->


            <!--</div>-->
        <!--</div>-->


        <div ng-repeat="config in formData">
            <!-- {{config}}  -->
        </div>

    </div>